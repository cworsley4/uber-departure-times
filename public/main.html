<!DOCTYPE html>
<html lang="en" ng-app="UberApp">
  <head>
    <title>Uber Coding Challenge - Departure Times</title>
    <!-- Libs -->
    <script type="text/javascript" src="/primus/primus.js"></script>
    <script src="/bower_components/momentjs/min/moment.min.js"></script>
    <script src="/bower_components/momentjs/min/locales.min.js"></script>
    <script src="/bower_components/humanize-duration/humanize-duration.js"></script>

    <!-- Angular -->
    <script src="/bower_components/angular/angular.min.js" type="text/javascript"></script>
    <script src="/bower_components/angular-cookie/angular-cookie.js" type="text/javascript"></script>
    <script src="/bower_components/angular-primus/angular-primus.js" type="text/javascript"></script>
    <script src="/bower_components/angular-timer/dist/angular-timer.js" type="text/javascript"></script>

    <!-- Application -->
    <script src="/app/app.js" type="text/javascript"></script>
    <script src="/app/configs/primus.js" type="text/javascript"></script>
    <script src="/app/controllers/main.js" type="text/javascript"></script>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./assets/css/spin.css" rel="stylesheet" />
    <style type="text/css">
      .spinner {
        font-size: 35px;
      }

      .center-text {
        text-align: center;
      }

      .center-font {
        margin: 0 auto !important;
        float: none !important;
      }

      html, body, #map-canvas {
        height: 100%;
        margin: 0;
        padding: 0;
      }


    </style>
  </head>
  <body ng-controller="MainController">
    <h2>Departure Times</h2>

    <ol class="breadcrumb">
      <li>{{ chosen.agency.title || '[Agency]' }}</li>
      <li>{{ chosen.route.title || '[Route]' }}</li>
      <li>{{ chosen.stop.stop.title || '[Stop]' }}</li>
    </ol>

    <h4 class="center">Lets get you on that bus!!</h4>

    <div id="predictions">
      <span class="glyphicon glyphicon-refresh gly-spin spinner" ng-show="loading"></span>
      <div ng-show="predictions.dirTitleBecauseNoPredictions">
        <h4>It doesn't look like there are any predictions to show here. Sorry!</h4>
      </div>
      <h5>{{ predictions.direction[0].title }}</h5>
      <div ng-repeat="prediction in predictions.direction[0].prediction">
        <span>Transport {{ $index + 1 }}</span>
        <timer interval="1000" max-time-unit="'minute'" countdown="prediction.seconds">
          {{ mminutes }}:{{ sseconds }}
        </timer>
      </div>
    </div>

    <pre id="predictions-data">
      {{ predictions | json }}
    </pre>

    <div class="input-group container">
      <span class="input-group-addon" id="sizing-addon2">
        <span class="glyphicon glyphicon-search"></span>
      </span>
      <input type="text" class="form-control" ng-model="search.title" placeholder="Search">
    </div>

    <br />

    <div class="steps container" ng-switch="step">

      <button class="btn btn-default btn-sm" ng-click="back()"><- Previous Step</button>

      <br />
      <br />

      <div ng-switch-when="1">
        <ul class="list-group container" id="step1">
          <li ng-repeat="agency in agencies | filter:search" ng-click="selectAgency(agency)" class="list-group-item">{{ agency.title }}</li>
        </ul>
      </div>
      <div ng-switch-when="2">
        <ul class="list-group">
          <li ng-repeat="route in routes" ng-click="selectRoute(route)" class="list-group-item">{{ route.tag }}</li>
        </ul>
      </div>
      <div ng-switch-when="3">
        <ul class="list-group">
          <li ng-repeat="stop in stops.stops" ng-click="selectStop(stop)" class="list-group-item">{{ stop.stop.title }}</li>
        </ul>
      </div>
    </div>
  </body>
</html>